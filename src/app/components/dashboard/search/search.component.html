<div class="bg">
  <div class="container">
    <form>
      <div class="row search-bar">
        <div class="form-group col-md-9">
          <input placeholder="Search for your book.." class="form-control form-control-underlined inputSearch" name="something"
            [(ngModel)]="searchData" #inputSearch />
        </div>
        <div class="form-group col">
          <select id="Field Search" [(ngModel)]="fieldSearch" class="form-control inputSearch" name="Field Search"
            (change)="resetSearch()">
            <option *ngFor="let displayfield of displayFields" value="{{ displayfield }}">{{ displayfield }}</option>
            <option value="releaseYear">Release Year</option>
          </select>
        </div>
      </div>
    </form>
    <app-alert *ngIf="(booksData | filterContent: searchData:fieldSearch).length === 0 && searchData.length >= 3"
                [errorData]="errorData"
    ></app-alert>
    <div *ngIf="searchData.length>=3" class="table-responsive">
      <table *ngIf="(booksData | filterContent: searchData:fieldSearch).length > 0" class="table table-striped table-bordered">
        <thead>
          <th class="table-heading" *ngFor="let searchfield of searchFields">{{ searchfield }}</th>
        </thead>

        <tbody class="hyperlink">
          <tr *ngFor="
              let book of booksData | filterContent: searchData:fieldSearch;">
            <td>{{ book.ISBN }}</td>
            <td>{{ book.Title }}</td>
            <td>{{ book.Author }}</td>
            <td>{{ book.releaseYear }}</td>
            <td>
              <button type="button" class="btn btn-success" 
              [disabled] = 'book.Count === 0'
              [routerLink]="['/reserveBook']" (click) = 'reserveBook(book)'>
                  Register({{book.Count}})
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
